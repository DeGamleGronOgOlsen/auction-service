@page "/auction/Upcoming"
@using System.Globalization
@model auctionServiceAPI.Pages.UpcomingAuctions.UpcomingAuctionsModel
@{
    ViewData["Title"] = "Kommende Auktioner - Auktionshuset Grøn og Olsen";
}
<head>
    <link rel="stylesheet" href="/css/UpcomingAuctions.css">
</head>
<main class="auctions-page">
    <section class="hero">
        <div class="hero-content">
            <h1>Kommende Auktioner</h1>
            <p>Udforsk vores udvalg af kommende auktioner og find din næste værdifulde genstand</p>
        </div>
    </section>

    <section class="search-section">
        <div class="search-container">
            <form method="get" class="search-form">
                <div class="search-input">
                    <input type="text" name="searchTerm" placeholder="Søg efter auktioner..." value="@Model.SearchTerm">
                    <button type="submit">
                        <svg viewBox="0 0 24 24" width="24" height="24">
                            <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="currentColor"/>
                        </svg>
                    </button>
                </div>

                <div class="category-filter">
                    <select name="category" onchange="this.form.submit()">
                        @foreach (var category in Model.Categories)
                        {
                            <option value="@category" selected="@(category == Model.CategoryFilter)">@category</option>
                        }
                    </select>
                </div>

                <a href="/auction/upcoming" class="reset-filter @(string.IsNullOrEmpty(Model.SearchTerm) && string.IsNullOrEmpty(Model.CategoryFilter) ? "hidden" : "")">Nulstil filter</a>
            </form>
        </div>
    </section>

    <section class="auctions-list">
        @if (Model.UpcomingAuctions.Count == 0)
        {
            <div class="no-results">
                <h2>Ingen auktioner fundet</h2>
                <p>Prøv at ændre dine søgekriterier eller kom tilbage senere.</p>
            </div>
        }
        else
        {
            <div class="auction-grid">
                @foreach (var auction in Model.UpcomingAuctions)
                {
                    <div class="auction-card">
                        <div class="auction-image" style="background-image: url('@(string.IsNullOrEmpty(auction.Image) ? "/images/placeholder.jpg" : auction.Image)')">
                            <div class="auction-category">@auction.Category</div>
                        </div>
                        <div class="auction-content">
                            <div class="auction-date">
                                <div class="date-day">@auction.StartDate.Day</div>
                                <div class="date-month">@auction.StartDate.ToString("MMM")</div>
                            </div>
                            <h3 class="auction-title">@auction.AuctionTitle</h3>
                            <p class="auction-description">@auction.Description</p>
                            <div class="auction-details">
                                <div class="location">
                                    <svg viewBox="0 0 24 24" width="16" height="16">
                                        <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" fill="currentColor"/>
                                    </svg>
                                    @auction.Location
                                </div>
                                <div class="auction-time">
                                    <svg viewBox="0 0 24 24" width="16" height="16">
                                        <path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z" fill="currentColor"/>
                                        <path d="M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z" fill="currentColor"/>
                                    </svg>
                                    Slutter: @auction.EndDate.ToString("dd/MM/yyyy HH:mm")
                                </div>
                            </div>
                            <div class="auction-pricing">
                                <div class="starting-price">
                                    Startpris: @auction.StartingPrice.ToString("C0", new CultureInfo("da-DK"))
                                </div>
                                <div class="current-bid">
                                    @{
                                        var currentPrice = auction.Bids.Count > 0
                                            ? auction.Bids.Max(b => b.Amount)
                                            : auction.StartingPrice;
                                    }
                                    Højeste bud: @currentPrice.ToString("C0", new CultureInfo("da-DK"))
                                </div>
                            </div>
                            <a href="/auction/details/@auction.AuctionId" class="btn auction-btn">Se detaljer</a>
                        </div>
                    </div>
                }
            </div>
        }
    </section>

    <section class="auction-info">
        <div class="info-container">
            <div class="info-card">
                <div class="info-icon">
                    <svg viewBox="0 0 24 24" width="40" height="40">
                        <path d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.47 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z" fill="var(--gold-color)"/>
                    </svg>
                </div>
                <h3>Hvordan Deltager Man?</h3>
                <p>Vores auktioner er tilgængelige både fysisk og online. For at deltage skal du registrere dig som byder i vores system. Dette kan gøres online eller ved at kontakte vores kundeservice.</p>
            </div>

            <div class="info-card">
                <div class="info-icon">
                    <svg viewBox="0 0 24 24" width="40" height="40">
                        <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z" fill="var(--gold-color)"/>
                    </svg>
                </div>
                <h3>Sikkerhed & Garanti</h3>
                <p>Hos Auktionshuset Grøn og Olsen garanterer vi ægtheden af alle genstande. Alle vores effekter gennemgår en grundig autenticitetsproces udført af vores eksperter.</p>
            </div>

            <div class="info-card">
                <div class="info-icon">
                    <svg viewBox="0 0 24 24" width="40" height="40">
                        <path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1-1 .45-1 1-1zm-2 14l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z" fill="var(--gold-color)"/>
                    </svg>
                </div>
                <h3>Eftersyn</h3>
                <p>Vi afholder altid eftersyn 2-3 dage inden auktionen. Her kan du inspicere genstandene grundigt og få vejledning fra vores eksperter. Se datoer og tider for eftersyn på den enkelte auktionsside.</p>
            </div>
        </div>
    </section>
</main>
